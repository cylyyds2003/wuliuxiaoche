#include "control.h"

//开源时间 2024年9月
//这里是比赛的逻辑控制函数文件
//由于开源时间比较早，防止大家不思考就搬，所以先去掉啦
//想要这部分代码的，2025年后再联系我噢
//
//code_again_back();
//这个是扫描二维码的函数
//
//bazi1(Code_RxPacket[0],1);
//这个是储存二维码的函数
//
//go(6400*3,step_accel,step_decel,set_speed);while(motor_sta!= STOP);
//back(6400*3,step_accel,step_decel,set_speed);while(motor_sta!= STOP);
//left(6400*1,heny_accel,heny_decel,heny_speed);while(motor_sta!= STOP);
//right(6400*3,step_accel,step_decel,set_speed);while(motor_sta!= STOP);
//turn_left(6400*1,step_accel,step_decel,set_speed);while(motor_sta!= STOP);
//turn_right(6400*1,step_accel,step_decel,set_speed);while(motor_sta!= STOP);
//这些函数已经能让你轮子的步进电机动起来了，并且覆盖了电机加减速函数保证了丝滑
//
//rise(6400*1.7, sigan_accel,sigan_decel, sigan_speed);while(sigan_sta!= STOP);
//down(6400*1.7, sigan_accel,sigan_decel, sigan_speed);while(sigan_sta!= STOP);
//这些函数已经能让你升降的步进电机动起来了，并且覆盖了电机加减速函数保证了丝滑
//
//YunTai(OUT);
//ZhuaZi(ZKAI);
//这些能让你的舵机转相应的度数
//
//PanDuan(Code_RxPacket[0]);
//这是物料识别函数，参数是对应颜色，里面包含了动作
//
//PanDuan2(Code_RxPacket[4]);
//这是靶子识别函数，参数是对应颜色，里面包含了动作
//
//duixian();
//pingxing();
//这两个是视觉校正函数，可以对车子进行微调，注意要连接摄像头
//
//好了，你已经会控制你的车子了，你要自己动脑子写噢

int acr=0;
//车子前进加减速设置
uint32_t set_speed  = 240;    // 最大速度设置 单位为0.1rad/sec  // 240
uint32_t step_accel = 40;     // 加速度 单位为0.1rad/sec^2      // 40
uint32_t step_decel = 30;     // 减速度 单位为0.1rad/sec^2      // 30
//车子横移加减速设置
uint32_t heny_speed = 240;    // 最大速度设置 单位为0.1rad/sec  // 240
uint32_t heny_accel = 40;     // 加速度 单位为0.1rad/sec^2      // 40
uint32_t heny_decel = 30;     // 减速度 单位为0.1rad/sec^2      // 30
//丝杆升降加减速设置
uint32_t sigan_speed = 260;   // 最大速度设置 单位为0.1rad/sec
uint32_t sigan_accel = 100;   // 加速度 单位为0.1rad/sec^2
uint32_t sigan_decel = 100;   // 减速度 单位为0.1rad/sec^2

/**
 * @brief 比赛逻辑控制函数
 * 
 * while(motor_sta!= STOP);等待中断标志位，
 * 是阻塞是等待，等待中断里面的加减速计算
 * 并完成动作再执行下一句，保证车子流畅丝滑
 * 我这里粗定位是写死大概的，到那个点了再开启摄像头微调，非常的准
 * 车子走的不是很直但是后面微调回来可以接受这个误差
 * 
 * @return null
 */
void control(void)
{
	/**************************启动************************/
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	/*****************第一次抓物块**********************/
	//...
	//...
	//...
	/*****************第一次离开转盘*******************/
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	/********************第一次放靶************************/
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//////////////////////////////////////////////////////////////////////////
	//...
	//...
	//...
	//...
	//...
	//...
	/*************************第一次离靶************************/
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	/**********************第二次放靶**************************/ 
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	/********************第二次离开靶************************/
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	/*************************第二轮****************************/
	/********************第二次抓物块************************/
	//...
	//...
	//...
	/*****************第二次离开转盘*******************/
	//...
	//...
	//...
	//...
	//...
	//...
	/******************第三次放靶*************************/
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	///////////////////////////////////////////////////////////////////////////////////
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	/********************第三次离靶***********************/
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	/********************第四次放靶************************/
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	/********************第四次离靶************************/
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	//...
	/****************************终点**************************/
}

/***************************************************************************************************/

void fancheng(void)
{
	/*
		......
		......
		......
	*/
}







